window.__require=function t(e,o,i){function r(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var h=o[s]={exports:{}};e[s][0].call(h.exports,function(t){return r(e[s][1][t]||t)},h,h.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"76be4wg6K9Ar59WqcxFY8oQ","GameManager");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=null,e.currentIndex=0,e}return r(e,t),e.prototype.onLoad=function(){this.LoadJSONFile(),this.grid.on("Finished",this.levelFinished.bind(this))},e.prototype.start=function(){this.levelsData=this.jsonData,null==this.levelsData&&(console.log("inside here"),this.levelsData={levels:[{level:1,startPosition:9,endPosition:7,blockPairs:["1-2","4-5","5-8","5-6","4-8","8-7"]}]}),this.currentLevelData=this.levelsData.levels[this.currentIndex],this.UpdateGrid()},e.prototype.UpdateGrid=function(){var t=this.currentLevelData.level,e=this.currentLevelData.startPosition,o=this.currentLevelData.endPosition,i=this.currentLevelData.blockPairs;this.grid.getComponent("grid").Initalize(t,e,o,i)},e.prototype.LoadJSONFile=function(){cc.loader.loadRes("json/config",Object,function(t,e){t?cc.error(t.message||t):this.jsonData=e.json}.bind(this))},e.prototype.levelFinished=function(){var t=this;this.currentIndex++,this.currentIndex<this.levelsData.levels.length?(this.currentLevelData=this.levelsData.levels[this.currentIndex],this.scheduleOnce(function(){t.UpdateGrid()},1)):(this.node.getChildByName("grid").children.forEach(function(t){t.getComponent(cc.Button).interactable=!1}),this.node.getChildByName("reset").getComponent(cc.Button).interactable=!1,this.node.getChildByName("Text").getComponent(cc.Label).string="Game Complete")},n([a(cc.Node)],e.prototype,"grid",void 0),n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],grid:[function(t,e,o){"use strict";cc._RF.push(e,"82d73ivZFZMYYO9CScQsaFf","grid");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<o;e++)for(var n=arguments[e],s=0,c=n.length;s<c;s++,r++)i[r]=n[s];return i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockers=null,e.player=null,e.updateText=null,e.level=0,e.startPosition=0,e.endPosition=1,e.currentPosition=0,e.blockPairs=[],e.rules=[],e.visitedNodesArr=[],e.delayBool=!1,e}return r(e,t),e.prototype.start=function(){},e.prototype.Reset=function(){this.node.getChildByName(this.endPosition+"").color=new cc.Color(255,255,255),this.updateText.getComponent(cc.Label).string=" "},e.prototype.Initalize=function(t,e,o,i){var r=this;this.Reset(),this.level=t,this.startPosition=e,this.endPosition=o,this.blockPairs=i,this.blockPairs=this.UpdateBlockPairs(this.blockPairs),this.midNumber=5,this.player.position=this.node.getChildByName(this.startPosition+"").position,this.currentPosition=this.startPosition,this.visitedNodesArr.forEach(function(t){r.node.getChildByName(t+"").color=new cc.Color(255,255,255)}),this.node.getChildByName(this.endPosition+"").color=new cc.Color(0,0,255),this.visitedNodesArr=[],this.visitedNodesArr.push(this.startPosition+""),this.ActivateBlockPairs(this.blockPairs)},e.prototype.UpdateBlockPairs=function(t){var e,o,i,r=["1-3","1-7","1-9","3-9","7-9"],n=t,c=[];return n.forEach(function(t,r){e=n[r][0],o=n[r][2],i=e,e=o,o=i,c.push(e+"-"+o)}),r.forEach(function(t,n){e=r[n][0],o=r[n][2],i=e,e=o,o=i,c.push(e+"-"+o)}),s(n,c,r)},e.prototype.ActivateBlockPairs=function(t){var e=this;this.DeactivateAllBlockers(),t.forEach(function(t){e.blockers.getChildByName(t)&&(e.blockers.getChildByName(t).active=!0)}),this.blockers.children.forEach(function(t){t.active})},e.prototype.DeactivateAllBlockers=function(){this.blockers.children.forEach(function(t){t.active=!1})},e.prototype.MoveToGrid=function(t,e){var o=this;if(!this.delayBool&&this.currentPosition!=e){if(this.visitedNodesArr.includes(e))return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Already visited node");if(this.CheckForBlockers(this.currentPosition,parseInt(e)))return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Cannot move to this position");if(this.CheckDiagonalBlockers(this.currentPosition,parseInt(e)))return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Cannot move to this position");if(this.currentPosition>parseInt(e)){if(this.CheckDiagonalBlockersLong(this.currentPosition,parseInt(e)))return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Cannot move to this position")}else if(this.CheckDiagonalBlockersLong(parseInt(e),this.currentPosition))return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Cannot move to this position");if(parseInt(e)==this.endPosition){if(this.visitedNodesArr.length!=this.node.children.length-1)return this.updateText.color=new cc.Color(255,0,0),void(this.updateText.getComponent(cc.Label).string="Cannot move to this position");this.node.emit("Finished")}this.node.getChildByName(this.currentPosition+"").color=new cc.Color(0,255,0),this.currentPosition=e,this.visitedNodesArr.push(e);var i=cc.moveTo(.5,this.node.getChildByName(e).x,this.node.getChildByName(e).y);this.player.runAction(i),this.updateText.color=new cc.Color(0,255,0),this.updateText.getComponent(cc.Label).string="Current position Updated to "+e,this.delayBool=!0,this.scheduleOnce(function(){o.delayBool=!1},.5)}},e.prototype.CheckForBlockers=function(t,e){return this.blockPairs.includes(t+"-"+e)},e.prototype.CheckDiagonalBlockersLong=function(t,e){var o=this;if(!(t-e<5)){var i,r,n=[],s=t,c=!1;"string"==typeof s&&(s=parseInt(s)),(1==s||3==s||2==s||6==s&&e>5||4==s&&e<5)&&(r=-4),(7==s||9==s||5==s||8==s||6==s&&e<5||4==s&&e>5)&&(r=4),(1==s||7==s||2==s&&e>5||8==s&&e>5)&&(i=3),(3==s||9==s||2==s&&e<5||8==s&&e<5)&&(i=-3);var a=s+i,l=s-r;return n.push(a+"-"+l),n.push(l+"-"+a),n.forEach(function(t){e<l&&o.blockPairs.includes(t)&&(c=!0)}),c}},e.prototype.CheckDiagonalBlockers=function(t,e){var o,i,r=this,n=[],s=t,c=!1;"string"==typeof s&&(s=parseInt(s)),(1==s||3==s||2==s||6==s&&e>5||4==s&&e<5)&&(i=-3),(7==s||9==s||5==s||8==s||6==s&&e<5||4==s&&e>5)&&(i=3),(1==s||7==s||2==s&&e>5||8==s&&e>5||5==s&&e>5)&&(o=1),(3==s||9==s||2==s&&e<5||8==s&&e<5||6==s||5==s&&e<5)&&(o=-1);var a=s+o,l=s-i;return n.push(a+"-"+l),n.push(l+"-"+a),n.forEach(function(t){e!=l&&r.blockPairs.includes(t)&&(c=!0)}),c},n([l(cc.Node)],e.prototype,"blockers",void 0),n([l(cc.Node)],e.prototype,"player",void 0),n([l(cc.Node)],e.prototype,"updateText",void 0),n([a],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],loadJsonFile:[function(t,e,o){"use strict";cc._RF.push(e,"21cdaxY2lZFcKoK1/A31gvW","loadJsonFile");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},n([a(cc.Label)],e.prototype,"label",void 0),n([a],e.prototype,"text",void 0),n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["GameManager","grid","loadJsonFile"]);